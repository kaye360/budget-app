---
import { actions } from "astro:actions";
import Transaction from "../components/Transaction.astro";
import type { Transaction as TransactionType } from "../../../types/types"
import TransactionListLayout from "../../../layouts/TransactionListLayout.astro";
import TransactionList from "../components/TransactionList.astro";

const transactions = await Astro.callAction( actions.transaction.index, {filter : 'deleted' } )
---

<TransactionListLayout
	title="Deleted Transactions"
	current="deleted"
>
	<TransactionList>
		{ !transactions.error && transactions.data.map( (transaction: TransactionType) => (
			<Transaction {transaction} budgets={[]} mode="restore" />
		))}
	</TransactionList>
</TransactionListLayout>

