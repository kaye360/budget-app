---
import { actions } from "astro:actions";
import TransactionListLayout from "../../../layouts/TransactionListLayout.astro";
import TransactionList from "../components/TransactionList";

const [transactions, budgets, accounts] = await Promise.all([
	Astro.callAction( actions.transaction.byDeleted, {} ),
	Astro.callAction( actions.budget.index, {} ),
	Astro.callAction( actions.accounts.index, {} )
])
---

<TransactionListLayout
	title="Deleted Transactions"
	active="deleted"
>

	<TransactionList
		transactions={transactions.data?.list ?? []}
		budgets={budgets.data ?? []} 
		accounts={accounts.data ?? []}
		actionButton="restore" 
		client:only="react"
	/>

</TransactionListLayout>

