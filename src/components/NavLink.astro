---

interface Props {
    href : string,
    title : string,
    Icon : any,
    isActive : boolean
}
const { href, title, Icon, isActive } = Astro.props

---

<a 
    href={href} 
    class:list={[
        "relative flex flex-col items-center p-4 hover:text-red hover:scale-105 active:scale-95 active:text-red transition-all duration-75",
        isActive && 'text-blue'
    ]}
>
    <Icon stroke-width={1} width="30" height="30" />
    <span class="hidden sm:block font-semibold tracking-wide">
        {title}
    </span>
    { isActive &&
        <span 
            class="absolute bottom-0 left-0 right-0 bg-red h-1 rounded-full"
            transition:name="navlink-active" 
        />
    }
</a>


<script>
import Qry from "../utils/Qry"

document.addEventListener('astro:page-load', () => {
    const navLinks = Qry.all<HTMLAnchorElement>('nav a')
    const main = Qry.one('main')
    navLinks.forEach( link => {
        link.addEventListener('click', () => {
            setTimeout( () => {
                main.classList.add('opacity-0')
            }, 500)
        })
    })
})

</script>